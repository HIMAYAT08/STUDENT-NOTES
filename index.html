<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Notes Website</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Link to CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- jsPDF Library for Photo to PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <!-- Tesseract.js Library for OCR (Image to Text) -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
</head>
<body>
  <!-- Sidebar Overlay -->
  <div id="sidebarOverlay"></div>

  <!-- Hamburger Menu Button -->
  <button id="menuBtn" class="hamburger-btn" style="display: none;">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <!-- Sidebar -->
  <aside id="sidebar">
    <div class="sidebar-header">
      <div class="profile-pic">H</div>
      <h3 class="profile-name" id="sidebarProfileName">Guest</h3>
    </div>
    <div class="sidebar-content">
      <ul class="sidebar-menu">
        <li id="subscriptionMenuBtn">Subscription</li>
        <li id="photoToPdfMenuBtn">Photo to PDF</li>
        <li id="settingsItem" class="settings-item">
          <div id="settingsHeader" class="settings-header">
            <span>Settings</span>
            <span class="arrow">‚ñº</span>
          </div>
          <ul id="settingsDropdown" class="settings-dropdown">
            <li id="customizeProfileBtn" style="color: #333;">Customize Your Profile</li>
            <li id="sidebarLogoutBtn">Logout</li>
          </ul>
        </li>
      </ul>
    </div>
  </aside>

  <div id="authWarning" style="background-color: #ffeb3b; color: #333; padding: 5px; text-align: center; font-size: 12px; font-weight: bold;">‚ö†Ô∏è First signup and then login</div>
  <!-- Header -->
  <header>
    <h1>üìö Student-Notes Storage</h1>
    <nav>
      <button id="loginBtn">Login</button>
      <button id="signupBtn">Signup</button>
    </nav>
  </header>

  <!-- Login Form -->
  <section id="loginSection" class="auth-section">
    <h2>Login</h2>
    <form id="loginForm">
      <input type="text" id="loginUsername" placeholder="Username" required>
      <div style="position: relative;">
        <input type="password" id="loginPassword" placeholder="Password" required style="padding-right: 35px;">
        <span id="toggleLoginPassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 18px;">üëÅÔ∏è</span>
      </div>
      <button type="submit">Login</button>
      <p id="loginError" style="color: red; display: none; margin-top: 10px; text-align: center; font-weight: bold;">‚ö†Ô∏è Invalid username or password</p>
    </form>
  </section>

  <!-- Signup Form -->
  <section id="signupSection" class="auth-section">
    <h2>Signup</h2>
    <form id="signupForm">
      <input type="text" id="signupUsername" placeholder="Choose Username" required>
      <div style="position: relative;">
        <input type="password" id="signupPassword" placeholder="Choose Password" required style="padding-right: 35px;">
        <span id="toggleSignupPassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 18px;">üëÅÔ∏è</span>
      </div>
      <button type="submit">Signup</button>
      <p id="signupError" style="color: red; display: none; margin-top: 10px; text-align: center; font-weight: bold;">‚ö†Ô∏è Password must be at least 8 characters</p>
    </form>
  </section>

  <!-- Dashboard -->
  <section id="dashboard" style="display:none;">
    <h2>My Dashboard</h2>
    <div id="timerContainer" style="text-align: center; margin-bottom: 15px;">
      <h3 id="subscriptionTimer" style="color: #6c63ff; display: none;"></h3>
      <p id="planExpiredWarning" style="color: red; font-weight: bold; display: none; font-size: 1.2rem;">‚ö†Ô∏è Your plan has expired!</p>
    </div>
    <p id="pagesFinishedWarning" style="color: red; font-weight: bold; display: none; text-align: center; margin-bottom: 5px;">‚ö†Ô∏è Warning: Your pages are finished!</p>
    <p id="pageLimitWarning" style="color: red; font-weight: bold; display: none; text-align: center; margin-bottom: 10px;">SCROLL DOWN FOR MORE PAGES OR PURCHASE SUBSCRIPTION FOR UNLIMITED PAGES</p>
    <div class="stats">
      <p>Total Pages Used: <span id="pagesUsed">0</span></p>
      <p>Remaining Pages: <span id="pagesRemaining">20</span></p>
    </div>

    <!-- Notes Form -->
    <div class="note-form">
      <h3>Add a New Note</h3>
      <form id="noteForm">
        <input type="text" id="noteName" placeholder="Note Name" required>
        <input type="url" id="noteLink" placeholder="Note Link (URL)" required>
        <button type="submit">Save Note</button>
      </form>
    </div>

    <!-- Search Notes -->
    <div class="search-section">
      <input type="text" id="searchInput" placeholder="Search notes by name...">
    </div>

    <!-- Notes List -->
    <div class="notes-list">
      <h3>MY NOTES</h3>
      <ul id="notesContainer"></ul>
    </div>

    <!-- Payment Section -->
    <div id="paymentSection" style="display:none;">
      <h3>Unlock More Pages</h3>
      <p>YOU HAVE USED YOUR ALL PAGES PLEASE PAY ‚Çπ10 TO UNLOCK 20 MORE PAGES.</p>
      <div class="upi-payment">
        <p style="font-weight: bold;">PAY HEAR TO UNLOCK PAGES <br> ‚¨áÔ∏è</p>
        <button onclick="payNow()">
          PAY ‚Çπ10 HEAR
        </button>
        <button id="simulatePaymentBtn" style="display:none; width: 100%; margin-top: 10px;">I Have Paid</button>
      </div>
    </div>
    <p id="paymentSuccessMsg" style="color: green; font-weight: bold; display: none; text-align: center; margin-top: 10px;">Congratulations! Payment successful! You have received 20 pages.</p>
  </section>

  <!-- Footer -->
  <footer>
    <p>Made for students to learn and save notes safely ‚ú®</p>
    <p>Made by Himayat</p>
  </footer>

  <!-- Full Screen Subscription Overlay -->
  <div id="subscriptionOverlay" class="subscription-overlay">
    <button id="closeSubscriptionBtn" class="close-overlay-btn">&times;</button>
    <div class="overlay-content">
      <h2>Choose Your Plan</h2>
      <div class="plans-container">
        <!-- Plan Micro -->
        <div class="sub-card">
          <div class="sub-name">Micro</div>
          <div class="sub-price">‚Çπ10</div>
          <div class="sub-duration">Half Day</div>
          <div class="sub-benefit">Unlimited Access</div>
          <button class="select-plan-btn" onclick="openPlanDetails('Micro', '‚Çπ10', 'Half Day', 'Unlimited Access', 'https://imjo.in/ZUKTuc')">Select Plan</button>
        </div>
        <!-- Plan Mini -->
        <div class="sub-card">
          <div class="sub-name">Mini</div>
          <div class="sub-price">‚Çπ20</div>
          <div class="sub-duration">3 Days</div>
          <div class="sub-benefit">Unlimited Access</div>
          <button class="select-plan-btn" onclick="openPlanDetails('Mini', '‚Çπ20', '3 Days', 'Unlimited Access', 'https://imjo.in/KRzXSv')">Select Plan</button>
        </div>
        <!-- Plan 1 -->
        <div class="sub-card">
          <div class="sub-name">Starter</div>
          <div class="sub-price">‚Çπ50</div>
          <div class="sub-duration">5 Days</div>
          <div class="sub-benefit">Unlimited Access</div>
          <button class="select-plan-btn" onclick="openPlanDetails('Starter', '‚Çπ50', '5 Days', 'Unlimited Papers', 'https://imjo.in/fSqGSQ')">Select Plan</button>
        </div>
        <!-- Plan 2 -->
        <div class="sub-card popular">
          <div class="sub-name">Standard</div>
          <div class="sub-price">‚Çπ100</div>
          <div class="sub-duration">10 Days</div>
          <div class="sub-benefit">Unlimited Access</div>
          <button class="select-plan-btn" onclick="openPlanDetails('Standard', '‚Çπ100', '10 Days', 'Unlimited Access', 'https://imjo.in/d9CGVh')">Select Plan</button>
        </div>
        <!-- Plan 3 -->
        <div class="sub-card">
          <div class="sub-name">Premium</div>
          <div class="sub-price">‚Çπ399</div>
          <div class="sub-duration">30 Days</div>
          <div class="sub-benefit">Unlimited Access</div>
          <button class="select-plan-btn" onclick="openPlanDetails('Premium', '‚Çπ399', '30 Days', 'Unlimited Access', 'https://imjo.in/kwXpJb')">Select Plan</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Selected Plan Details Overlay -->
  <div id="selectedPlanOverlay" class="subscription-overlay">
    <button id="closeSelectedPlanBtn" class="close-overlay-btn">&times;</button>
    <div class="overlay-content single-plan-content">
      <h2 id="selectedPlanName">Plan Name</h2>
      <div class="plan-details-large">
        <p class="selected-price" id="selectedPlanPrice">‚Çπ0</p>
        <p class="selected-duration" id="selectedPlanDuration">Duration</p>
        <p class="selected-benefit" id="selectedPlanBenefit">Benefits</p>
      </div>
      <button id="payNowBtn" class="pay-now-btn">CLICK HERE TO PAY</button>
      <button id="planPaidBtn" class="pay-now-btn" style="display:none; background-color: #ff006e; margin-top: 15px;">I HAVE PAYED</button>
    </div>
  </div>

  <!-- Photo to PDF Overlay -->
  <div id="photoToPdfOverlay" class="subscription-overlay">
    <button id="closePhotoToPdfBtn" class="close-overlay-btn">&times;</button>
    <div class="overlay-content single-plan-content" style="max-width: 600px;">
      <h2>Photo to PDF</h2>
      <p id="pdfLimitWarning" style="text-align: center; margin-bottom: 10px; font-weight: bold; color: #555;">Free PDF Conversions Left: <span id="pdfFreeLeft">3</span></p>
      <div class="upload-section">
        <input type="file" id="imageUploadInput" multiple accept="image/*" style="display: none;">
        <label for="imageUploadInput" class="upload-box">
          <div class="upload-icon">üìÅ</div>
          <p>Click to Upload Images</p>
        </label>
      </div>
      <div id="imagePreviewContainer" class="image-preview-container"></div>
      <button id="generatePdfBtn" class="pay-now-btn" style="display: none;">Download PDF</button>
    </div>
  </div>

  <!-- Customize Profile Overlay -->
  <div id="profileOverlay" class="subscription-overlay">
    <div class="overlay-content single-plan-content">
      <h2>Customize Profile</h2>
      <form id="profileForm">
        <input type="text" id="editUsername" placeholder="Username" required>
        <input type="password" id="editNewPassword" placeholder="New Password (leave blank to keep current)">
        <input type="password" id="editConfirmPassword" placeholder="Confirm Password">
        <div class="profile-actions" style="display: flex; gap: 10px; margin-top: 20px;">
          <button type="button" id="cancelProfileBtn" class="pay-now-btn" style="background: #ccc; color: #333; margin-top: 0;">Cancel</button>
          <button type="submit" class="pay-now-btn" style="margin-top: 0;">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Congratulations Overlay -->
  <div id="congratsOverlay" class="congrats-overlay">
    <div class="congrats-box">
      <div class="congrats-icon">üéâ</div>
      <h2 class="congrats-title">Congratulations!</h2>
      <p class="congrats-message">Unlimited Access Unlocked!</p>
    </div>
  </div>

  <!-- Link to JS -->
  <script src="script.js"></script>
</body>
</html>